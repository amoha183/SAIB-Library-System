<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAIB Library - Browse Books</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="customer-page">
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <img src="../saiblogo.png" alt="SAIB Library Logo" class="navbar-logo">
                <h2>SAIB Library</h2>
            </div>
            <ul class="navbar-menu">
                <li><a href="customer.html" class="nav-link active">Browse Books</a></li>
                <li><a href="index.html" class="nav-link" onclick="handleLogout()">Logout</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Header with Search -->
            <div class="page-header">
                <div class="header-content">
                    <h1 class="page-title">Browse Our Collection</h1>
                    <p class="page-subtitle">Discover your next favorite book</p>
                </div>
            </div>

            <!-- Search and Sort Container -->
            <div class="search-sort-container">
                <!-- Search Bar -->
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="Search books by title, author, or category..."
                        onkeyup="handleSearch()"
                    >
                    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </div>

                <!-- Sort Dropdown -->
                <div class="sort-container">
                    <label for="sortSelect" class="sort-label">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sort-icon">
                            <path d="M3 6h18M7 12h10M11 18h2"></path>
                        </svg>
                        Sort by:
                    </label>
                    <select id="sortSelect" class="sort-select" onchange="handleSort()">
                        <option value="default">Default</option>
                        <option value="title-asc">Title (A-Z)</option>
                        <option value="title-desc">Title (Z-A)</option>
                        <option value="author-asc">Author (A-Z)</option>
                        <option value="author-desc">Author (Z-A)</option>
                        <option value="year-asc">Year (Oldest First)</option>
                        <option value="year-desc">Year (Newest First)</option>
                        <option value="category-asc">Category (A-Z)</option>
                        <option value="category-desc">Category (Z-A)</option>
                    </select>
                </div>
            </div>

            <!-- Books Grid -->
            <div class="books-grid" id="booksGrid">
                <!-- Book cards will be dynamically rendered here -->
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-state" style="display: none;">
                <p>No books found matching your search.</p>
            </div>
        </div>
    </main>


    <!-- Book Details Modal -->
    <div id="bookDetailsModal" class="modal">
        <div class="modal-overlay" onclick="closeBookDetailsModal()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Book Details</h2>
                <button class="modal-close" onclick="closeBookDetailsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="book-details-container">
                    <div class="book-details-image">
                        <img id="detailBookImage" src="" alt="Book Cover" class="detail-book-cover">
                    </div>
                    <div class="book-details-info">
                        <h2 id="detailBookTitle" class="detail-title"></h2>
                        <p class="detail-author">by <span id="detailBookAuthor"></span></p>
                        
                        <div class="detail-meta-group">
                            <div class="detail-meta-item">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="detail-icon">
                                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                </svg>
                                <div>
                                    <span class="detail-label">Category</span>
                                    <span id="detailBookCategory" class="detail-value"></span>
                                </div>
                            </div>
                            
                            <div class="detail-meta-item">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="detail-icon">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                <div>
                                    <span class="detail-label">Year</span>
                                    <span id="detailBookYear" class="detail-value"></span>
                                </div>
                            </div>
                            
                            <div class="detail-meta-item">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="detail-icon">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                <div>
                                    <span class="detail-label">Status</span>
                                    <div id="detailBookStatus" class="detail-value"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="detail-description">
                            <h3>Description</h3>
                            <p id="detailBookDescription"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include JavaScript -->
    <script src="assets/js/app.js"></script>
    <script>
        // Initialize customer page
        initCustomerPage();
    </script>
</body>
</html>

